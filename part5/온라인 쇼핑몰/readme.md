- 소개
	- 클린아키텍쳐 & MVVM 기반 온라인 쇼핑몰을 가볍게 따라하는 어플 입니다.

- 기능
	- 물건 보기
	- 주문 하기
	- 구글 로그인
	- 주문 목록 보기

- 배우는 것
	- 클린 아키텍처 기반 MVVM
	- Firebase 구글 로그인

---

- 클린 아키텍처 기반 MVVM

- Firebase 구글 로그인


---

- 앱 설계 과정

- koin 의존성 추가
	- Application 클래스 만든 뒤 onCreate에 startKoin{} 하기
	- di 패키지 안에 appModule 파일 만들기
	- 매니페스트에 선언하기

- 패키지 설계 하기
	- 데이터 패키지, 도메인 패키지, 프레젠테이션 패키지

- 데이터 패키지
	- 엔티티 패키지 만들기
		- ProductEntity 데이터 클래스 만들기
		- 내려오는 json 형식에 맞춰서 변수 구성	
	- 네트워크 패키지 만들기
		- api를 불러오는 도구를 추가할 거임
		- Url 오브젝트 생성 후 base url 저장해두기
		- ApiService 인터페이스 만들기
		- @GET 과 suspend fun getProduct() 있는 걔 말하는거임
		- ProductApi 파일 만들기
		- 레트로핏 객체를 제공해주는 함수 작성(ApiService 객체를 반환)
	- response 패키지 만들기
		- 그.. 레트로핏 응답으로 내려오는 값에 맞는 클래스 작성하기
		- 함수 안에 ProductEntity 타입으로 매핑 시켜주는 함수 작성
	- repository 패키지 만들기
		- 룸에서 불러오던 api로 불러오던 데이터를 다루는 suspend 함수 죄다 작성 하는 레포지토리 인터페이스 작성	
		- 위의 인터페이스를 구현하는 레포지토리 클래스 작성
		- 이 클래스의 인자로는 ApiService 객체와 코루틴의 디스패처를 받아와야 함
		- 함수들은 어차피 백그라운드로 실행해야 하니 withContext(ioDispatcher)사용


- 도메인 패키지
	- 유스케이스 인터페이스 작성하기
	- 원하는 기능마다 유스케이스를 인터널 클래스로 만들고 인자로는 레포지토리 받기
		- 안에다가 인보크 함수 작성해서 기능 수행할 수 있게 해줘

- 프레젠테이션 패키지
	- 베이스 액티비티, 프래그먼트, 뷰모델 추상 클래스 만들기
	- 베이스 액티비티
		- 뷰모델과 뷰바인딩을 상속 받아야 됨
		- 뷰모델을 추상변수로, 뷰바인딩도..
		- onCreate 안에서 바인딩 초기화 하고 fetchJob을 적절히 사용.
		- viweModel 에서 받도록
		- 필요 하다면 onserveData도 구현
	- 베이스 프래그먼트
		- 액티비티랑 거의 똑같다고 보면 됨
	- 베이스 뷰모델
		- 뷰모델만 상속받으면 끝
		- fetchData 함수를 적고 Job반환하면 끝

- appModule에 값 넣기
	- 뭘 넣어야 할지 잘 모르겠는데 레트로핏 관련 객체를 다 쳐넣고 있음
	- 코루틴 디스패처도 싱글턴으로 넣네?
	- 레포지토리도 싱글턴. 근데 반환값이 있으니 제네릭으로 타입 넣기
	- 유스케이스는 팩토리 패턴으로 주입
	- 뷰모델은 viewModel {} 로 다 쳐넣어

1. 메인 화면 구현하기

- 귀찮으니 메인액티비티를 메인 화면으로 씀 ㅋㅋ
	- BaseActivity를 상속받도록 고침
	- 당연히 MainViewModel도 만들어야지
	- 뷰모델은 당연히 fetchJob을 오버라이드 해야 함. 아직 작성은 안함
	- 메인액티비티에서의 viewModel 은 by inject<MainViewModel>()로 불러옴
	- 바텀내비의 클릭 리스너는 메인액티비티에서 작성
		- 오로지 뷰 화면만 담당하기 때문에. 데이터랑 아무 상관 없기 때문에.

- 프레젠테이션 패키지 안에 원하는 화면별? 패키지를 만든 뒤 뷰모델과 뷰 만들기


2. mock api 데이터로 쇼핑 리스트 구현하기

- 상품리스트를 가져오는 유스케이스를 구현해보자
	- 얘는 인자로 레포를 갖고 있기 때문에 그 안에 있는 함수를 호출하기만 하면 됨
	- 레포는 ApiService를 인자로 갖고 있기 때문에 Api의 함수를 호출하기만 하면 됨
		- isSuccessful 확인하는거 잊지 마시고..
	- 다 구현했으면 뷰모델에 유스케이스 인자로 넣어
	- 라이브데이터 변수를 선언 한 뒤 라이브 데이터에 집어 넣을 수 있도록 하기
	- 갑자기 State를 도입하는 미친상황
	- Fragment는 뷰모델의 데이터를 observe 해서 알아서 데이터 보여주기
	- Fragment에서 xml 안에 있는 리사이클러 뷰의 어댑터와 스와이프레이아웃을 초기화 해
- 상품 상세 화면 가는건 Fragment에 작성

3. 나머지 기능은 비슷한 반복이니 생략
	- 파이어베이스 로그인 기능은 걍 죄다 뷰에서 처리
	- 구글 로그인 토큰 저장은 물론 뷰모델

---

- 더 구현해보고 싶은 것

---

- Tip
	- extension 함수들은 따로 패키지 만드셈

---

- 동작 화면

- ![KakaoTalk_20220721_175447331_05](https://user-images.githubusercontent.com/68932465/180790164-a8d11afe-f9aa-4837-937d-17a0777fff87.jpg)
  ![KakaoTalk_20220721_175447331_06](https://user-images.githubusercontent.com/68932465/180790170-90a78f54-644d-42fd-b827-c7a81713fa73.jpg)
  ![KakaoTalk_20220721_175447331_07](https://user-images.githubusercontent.com/68932465/180790171-5c46ee6f-6067-4bfd-b95d-c07607d25b86.jpg)


