- 소개
	- 디자인 패턴을 공부하기 위한 간단한 ToDo 앱 입니다.

- 기능
	- Todo 리스트 작성
	- 리스트 수정 및 삭제

- 배우는 것
	- 여러 디자인 패턴 (MVC, MVP, MVVM)
	- 구글 클린 아키텍쳐
	- DI
	- Koin
	- TDD

---

- 아키텍쳐를 사용하는 이유
	- 일관적인 코드작성(유지보수와 협업에 좋다)
	- 생산성 향상
	- 테스트가 용이 해짐
	- 개발의 방향성을 잡아줌

- 여러 디자인 패턴
	- MVC
		- 모델 + 뷰 + 컨트롤러
		- 비즈니스 로직과 뷰가 같이 있어서 코드가 난입해짐
		- 관심사 분리가 제대로 안되서 버그가 생길 수 있다

	- MVP
		- 모델 + 뷰 + 프레젠터
		- 프레젠터는 비지니스 로직과 뷰를 제어
		- 뷰에 넣어줄 데이터를 단순화게 추상화 함
		- 뷰는 액티비티나 프래그먼트
		- 프레젠터는 뷰와 양방향 통신
		- BasePresenter와 BaseView 인터페이스를 만듬
			- 뷰 안에는 프레젠터를 변수로 갖고 있음
		- 구글 예시는 뭔가 알아보기 힘든 느낌. 각 폴더의 의미를 잘 모르겠음

	- MVVM
		- 모델 + 뷰 + 뷰모델
		- 뷰만 뷰모델을 알고 있는 단방향임
		- 뷰모델은 모델에 대한 데이터를 받아와서 제어함, 말 그대로 데이터를 갖고 있는 클래스
		- 뷰는 옵저버 패턴을 통해 데이터 변화를 감지함
		- 뷰는 필요한 데이터?를 뷰모델 호출을 통해 가져옴
		- LiveData를 사용하면 편리하다.

	- MVVM + DataBinding
		- 보일러플레이트 코드를 제거하기 위해 데이터바인딩을 사용한 방식
		- 구독에 대한 처리를 xml파일에서 함

	- MVI
		- 최근에 유행하고 있음
		- 모델 + 뷰 + 인텐트

	- MvRx, Flux, Ribs ...
		- 업계를 주도해나가고 있는 단방향 플로우 아키텍쳐들
		- MvRx : 에어비엔비가 만듬
		- Flux : 페이스북이 만듬 등등..

- 구글 클린 아키텍처
	- MVVM과 유사함
	- 구글이 권장하고 있는 아키텍처
	- 모바일 앱은 데스크톱 어플보다 많이 복잡하다
	- 그냥 docs 보면 훨씬 정리가 잘되어 있음
	- 제일 중요한건 관심사를 잘 분리하는 것이다.
	- 뷰모델은 UI의 구성 변경의 영향을 받지 않도록 한다
	- 구성 요소간의 종속성을 관리 해주기 위해 DI와 서비스 로케이터를 사용한다.
	- 캐시를 사용할 수 있다

- DI
	- 종속성 주입
	- DI를 사용하면 클래스가 자신의 종속성을 구성할 필요 없이 종속성을 정의할 수 있다.
	- Dagger나 Hilt가 유명함
	- 컴포넌트간의 의존 관계를 소스코드가 아닌 외부 설정을 통해 정의되게 하는 디자인 패턴
	- 객체를 직접 생성하지 않고 외부에서 주입한 객체를 사용하는 방식
	- 유닛테스트가 쉬워짐, 인스턴스간의 디커플링을 만들어 주기 때문


- 서비스 로케이터(Koin)
	- 가벼운 DI툴이라고도 부름
	- 자신의 종속 항목을 구성하는 대신 종속 항목을 가져올 수 있는 레지스트리를 제공
	- 중앙 등록자를 통해 요청이 들어왔을 때 인스턴스를 반환함
	- 빌드 속도, 크기, 메서드 수 등에 있어 DI보다 이득임
	- single 키워드는 싱글턴으로 객체를 만들어 줌
	- by inject()로 쉽게 가져올 수 있다.
	- module {} : 주입받고자 하는 객체의 집합
	- factory{} : 매번 새로운 객체를 생성
	- viewmodel{} : 말그대로 뷰모델
	- 러닝커브가 낮다.
	- 코틀린 환경에 도입되기 쉽다
	- 어노테이션을 쓰지 않기 때문에 컴파일 시간이 단축됨
	- 뷰모델 주입도 쉽게 가능하다
	- 런타임 때 주입이 필요한 컴포넌트가 생성되어 있지 않는 경우 크래시 발생
	- onCreate 때 startKoin을 해야 함
	- Appmodule 파일을 만들고 죄다 써

- 클린 아키텍쳐
	- 로버트 마틴(엉클 밥)이 만든? 집약시킨 개념
	- 설계 철학 : SOLID 원칙을 기반
	- 아키텍처 블루 프린트로 레이어를 나눔
	- 엔티티(데이터), 유스케이스(도메인), 컨트롤러(프레젠터) 레이어
	- 계층 구조의 개념이 널리 적용됨
	- 도메인 계층(유스케이스)를 분리함으로써 소스코드 변경의 안정성이 높아짐
	- 의존성 역전 : 모듈 단위의 프로젝트로 구성하기 쉽다
	- 프레젠테이션 층
		- 유저와의 인터렉션을 하고 뷰를 같고 있음
	- 도메인 층
		- 유스케이스와 레포지토리와 연동함
		- 유스케이스는 레포지토리를 갖고 있다는 뜻임
	- 데이터 층
		- 데이터를 가져오는 층

- TDD
	- 테스트 드라이븐 디벨롭먼트
	- 테스트가 개발을 이끌어 감
	- 특징
		- 테스트를 먼저 만들고 테스트를 통가하기 위한 코드를 짬
		- 에자일 과정에서는 불확실성이 따른다
		- 빠른 커뮤니케이션과 피드백이 필요함
	- 필요한 경우
		- TDD는 결과가 너무 뻔하면 굳이 하지 않아도 된다
		- 자신감 지수가 낮거나 요구사항이 빈번하게 변경 되는 경우에 함
		- 비즈니스 로직이 자주 바뀌거나 인수인계가 필요한 경우에 함
	- 단점
		- TDD는 개발시간이 늘어 나므로 필요성을 못느끼는 개발자가 많다.
		- TDD 자체가 어렵다. 일반적인 개발 방식과 반대로 가져가야 함.
		- 배운것을 잊어가야 하는게 어려움
		- TDD를 하기 위해 툴을 사용해야 한다는 강박관념이 있어 진입장벽을 만듬
	- 잘 하는 방법
		- 피드백을 자주 받을 수 있는 환경을 만든다.
		- ex) Test case 작성, 주기적인 프로세스 검증
		- 작업을 함께 협력 할 수 있는 방법을 생각한다
		- ex) 함께 비즈니스 로직 고민, 프로더그 스펙을 잘게 나눔
	- 구현 과정
		- 클린 아키텍쳐 구축
		- 유닉 테스트 구현을 위한 도구 도입
		- 각 파일의 목적에 맞는 시나리오 작성
		- 각 레이어 구축 

- 클린 아키텍쳐 빌드업
	- 패키지 3개 만들기
		- 프레젠테이션 : 비지니스 로직 및 UI 담당
		- 도메인 : 유스케이스
		- 데이터 : 룸이나 레트로핏 이용 하는 곳
	- 프레젠테이션
		- 2개 패키지로 또 나눠, 뷰와 프레젠터
		- 뷰는 액티비티와 프래그먼트
		- 프레젠터는 뷰모델
	- 도메인
		- 유스케이스와 엔티티를 모델로 가공하는 작업을 함
	- 데이터
		- 레포지토리와 엔티티 패키지
		- 레포지토리

		- 엔티티
			- 날것 그대로의 데이터 클래스

- 구현 순서 (TDD는 일단 무시함)

	- Appication을 상속받는 AppApplication 클래스 하나 만들기
		- 매니페스트에 등록하기
		- onCreate 함수를 쓰고 startKoin {} 으로 코인 주입

	- di 폴더를 만든 뒤 appModule 만들기
		- internal val 인거 잊지 마시고
		- 유스케이스는 factory패턴, 레포는 single 패턴으로 주입

	- 데이터, 도메인, 프레젠테이션 패키지 만들기

	- 프레젠테이션 안에 뷰모델을 만들자
		- 뷰모델 인자로 유스케이스를 정의 해야 됨
		- 물론 뷰모델은 뷰모델 클래스를 상속
		- 뷰 모델 안에는 여러 변수를 선언해야죠 당연히
		- 라이브데이터도 쓰시고.
		- 데이터는 인자로 받는 유스케이스에서 불러오면 되지요

	- domain 패키지에 UseCase 인터페이스를 만들어 놓자
		- 각 기능에 따라 유스케이스를 만들자
		- 유스케이스는 어떤 하나의 기능을 하는 함수? 라고 생각하면 될듯
		- 유스케이스는 레포지토리를 인자로 전달 받아야 됨
		- ex) GetToDoListUseCase: UseCase{ }

	- 데이터 패키지에 레포지토리 인터페이스를 만들자
		- 안에 원하는 기능을 하는 이름의 suspend fun 을 정의 하자
		- 레포지토리를 상속받는 레포를 만들고 안의 함수를 오버라이드 하자
		- 레포에 필요하면 변수를 선언 해도 됨

	- 데이터 패키지 안에 엔티티 패키지를 만들고 필요한 엔티티를 만들어라
	- 기능 자체는 어려운 기능이 아니므로 정리는 여기서 마치겠다.
---

- 더 구현해보고 싶은 것
	- 너무 어렵다
---

- Tip

---

- 동작 화면

- ![KakaoTalk_20220721_175447331_10](https://user-images.githubusercontent.com/68932465/180675978-fdfc750b-dac3-42a1-8cbb-b89f1f2f4d96.jpg)
  ![KakaoTalk_20220721_175447331_11](https://user-images.githubusercontent.com/68932465/180675980-a9ea1a94-ce79-498a-9540-701e22668c89.jpg)
  ![KakaoTalk_20220721_175447331_09](https://user-images.githubusercontent.com/68932465/180675982-13f398d3-bd85-4e53-89b7-eb2b1687fdd7.jpg)
  ![KakaoTalk_20220721_175447331_08](https://user-images.githubusercontent.com/68932465/180675984-4fac9b5f-a2c6-4555-91aa-a124f34ad9ea.jpg)
